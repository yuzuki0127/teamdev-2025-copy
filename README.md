# ユーザーフロー記載

# 立案自動化実行用コマンド
`php artisan schedule:run`


#ConPath

管理職の組織改善を支援するアプリケーションです。  
「アンケート → 分析 & 提案 → 実行支援」までの流れを一元管理できるダッシュボード型ツールです。
---

## 🚀 特徴

- ✅ アンケートによる現状把握
- 📊 自動分析と改善提案
- 🛠 タスクベースの実行支援
- 📈 KPI・改善状況の可視化
- 🧭 「次にやるべきこと」を常に表示

---

## 🖼️ 画面構成（概要）

**新規登録/ログイン画面**
**企業情報/編集画面**
 **ダッシュボード**
 **アンケート作成画面**
 **アンケート回答画面**
 **分析 & 提案画面**
 **アンケート結果詳細画面**
 **過去の提案画面**
 **案を採用する画面**
 **タスク管理画面**

---

## 🏗️ 使用技術 / Tech Stack

| カテゴリ | 技術 |
|----------|------|
| フロントエンド | Vite / Alpine.js / Tailwind CSS |
| UIライブラリ | SweetAlert2 / Splide.js |
| データ可視化 | Frappe Gantt |
| 通信処理 | Axios |
| スタイリング | PostCSS / Autoprefixer |
| バックエンド | Laravel |


---

## ⚙️ セットアップ方法
0. `git clone ~~~`
1. `docker compose build --no-cache` (ビルドする)
2. `docker compose up -d` (コンテナをたてる)
3. `docker compose exec app sh` (appコンテナに入る)
4. `composer install` (src配下にLaravel10をインストール)
5. .env.exampleから.envを作成する(src配下)
6. `src > .env` DBに関する内容を以下のように書き換える
    ```
    DB_CONNECTION=mysql
    DB_HOST=mysql
    DB_PORT=3306
    DB_DATABASE=website
    DB_USERNAME=posse
    DB_PASSWORD=password
    ```
7. `src > .env` openAIのAPIキーを設定する
    ```
    OPENAI_API_KEY=ここにOpenAIのAPIキーを入力する
    ```
8. `php artisan migrate:fresh --seed`
9. `src/package.json` の内容のscripts部分を以下のように変更する
    - 変更点としてはdevの`"vite"`のみだったのが `"vite --host"` というhostオプションを付け足しています
    ```json
        "scripts": {
            "dev": "vite --host",
            "build": "vite build"
    },
    ```
10. nodeコンテナに入っていることを確認
   - (入っていなければ、`docker compose exec node sh`)
11. `npm install`
12. `npm run dev`
13. ブラウザで `http://localhost` にアクセスし、ログインページに遷移することを確認

### if. 画面右側に緑色の
    ```
    Your app key is missing
    Generate app key
    Generate your application encryption key using php artisan key:generate.
    Generate your application encryption key using `php artisan key:generate`.
    Laravel installation
    ```
    が表示される場合
    `docker compose exec app sh`
    `php artisan key:generate` 

### tailwind反映されない場合
    1. hotファイル削除
    2. `npm run build`
    3. `npm run dev`


## 🔐 ログイン / 新規登録方法

このアプリを利用するには、ユーザー登録とログインが必要です。

### ▶ 新規登録の手順

1. トップページにアクセス（http://localhost/register）
2.. 以下の情報を入力して「登録」ボタンを押してください：
   - 氏名
   - メールアドレス
   - パスワード
4. 登録後、企業情報登録ページ（http://localhost/dashboard/company-first-register)に遷移します
5.企業情報を登録後にダッシュボード(http://localhost/dashboard)に遷移します

---

### ▶ ログインの手順
アカウント
名前：田中太郎
メールアドレス：tanaka@example.com
パスワード：Password123

1. トップページにアクセス ( http://localhost/login)
2. 「ログイン」ボタンをクリック
3. 登録済みのメールアドレスとパスワードを入力してログイン
4. 正常にログインすると、ユーザーダッシュボードが表示されます

---

## 🚀 ダッシュボード操作手順
▶ ダッシュボードへのアクセス方法
新規登録し、企業情報を登録した後に「ダッシュボード」に遷移します。
▶ 各セクションの操作方法
進捗状況の確認
TODO
アンケートがない場合→「アンケートを作成しましょう」と表示され、アンケートへ遷移するボタンが出現します
アンケートが作成されている場合、「現在アンケートを受付中です。しばらくお待ち下さい」の表記がされます
集計日が来た場合→「次は 分析結果の確認・施策を作成 しましょう！」分析と提案への遷移ボタンが表示されます
実行のタスクがある場合→「次は 実行中の施策を確認 しましょう！」と表記され、実行中のタスクへボタンが表示されます
アンケートの進捗
アンケートがない場合→「現在アンケートはありません。」
作成したアンケートがある場合→アンケートのタイトル、アンケートの状況（回答受付中）、配布日・集計日の表示されます


分析 & 提案の確認
アンケート集計後に分析と提案を行っていない場合→「現在分析結果はありません」と表示されます。
分析と提案を行った場合→分析結果のサマリーが表示されます
「提案の詳細」をクリックして、提案を確認します


実行支援タスク
実行のタスクがない→「現在実行中の施策はありません。」と表示されます
作成した案とタスクの進捗度が表示されます。


##🚀 アンケート作成画面操作手順
・既存の16問が表示され、質問の上限は30問まで設定されています。質問は追加・削除（追加質問のみ）が可能です。
・画面の下部に保存ボタン、画面右上に送信ボタンが固定してあり、送信する際にはポップアップで確認が行われます。
・アンケートは従業員にメールで送信されます

##🚀 アンケート回答画面操作手順
・従業員は送信されたメールからアンケートに回答することができます。
・各質問を5択から選択してもらいます
・1問回答するごとにプログレスバーが更新され、所要時間が減ります
・任意記述欄で従業員に記述してもらいます。

##🚀 分析と提案画面操作手順
# 立案自動化実行用コマンド
`php artisan schedule:run`

アンケートの集計結果
 アンケートの集計結果が表示され、全体のサマリーとレーダーチャートを通じて課題が一目で分かるようになっています。


推論過程の表示
 推論の過程を表示することで、AIによる立案がどのように進められるかをユーザーに理解してもらうことができます。


AIによる立案
 AIが立案した提案が表示され、「案を選択するボタン」を押すことで、提案内容を選択し、案を採用するページに遷移します。
##🚀 アンケートの結果詳細画面操作手順
ヘッダーの「アンケートの詳細」、全体のサマリーの「アンケートの詳細を見る」から遷移することができます。
アンケート結果の詳細が表形式で表示され、各設問ごとに平均値や前回比などのデータが確認できます。

##🚀 過去の提案画面操作手順
ヘッダーの「過去の提案」、「分析と提案画面」の提案の右上のボタンから遷移することができます。
過去に提案された改善案が、アンケートのタイトルと共に表示されます。これにより、以前の提案内容を振り返ることができます。
ここに表示されている案も洗濯することが可能です。


##🚀 案を採用する画面操作手順
・選択した案が表示される。案を代入するボタンを押すと案の作成フォームに案のタイトル、詳細、提案の背景、目的が代入されます。
・スケジュールを入力してもらいます。
##🚀 タスク管理画面操作手順
・施策を中止するボタンを押すと案を採用するページに遷移されます。


